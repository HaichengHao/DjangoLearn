## ORM操作   

### 链接别的数据库  

#### 链接mysql   
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'djangoorm',
        'HOST':'localhost',
        'PORT':3306,
        'USER':'root',
        'PASSWORD':'HHCzio20'
    }
}
```
> mysql必须要提前安装运行并且建立一个库,然后在settings.py中像上面那样指定好
> 还有就是它需要安装组件,一般用pymsql      
> 需要在项目主文件的`__init__.py`中像下面这样写  
> 
### 注意！！！！！
```python
import pymysql
pymysql.install_as_MySQLdb()
```

#### 其它主流数据库支持   

- postgresql `需要pip install psycopg2`
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'djangoorm',
        'HOST':'localhost',
        'PORT':5432,
        'USER':'root',
        'PASSWORD':'HHCzio20'
    }
}
```
- Oracle `需要pip install cx-Oracle`
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'djangoorm',
        'HOST':'localhost',
        'PORT':1521,
        'USER':'root',
        'PASSWORD':'HHCzio20'
    }
}
```

Django的ORM对于不同的SQL的处理方式都是相同的,不需要改来改去,这是很方便的  

### 数据库连接池   
Django本身是没有数据库连接池的   
>pymysql -> 操纵数据库
>DBUtils -> 连接池  

连接池最大的好处就是将建立连接和关闭连接耗费资源的问题给优化了   
连接池可以保持链接，需要链接的时候就从数据库连接池中拿出资源，用完就释放  

- 注意Django是没有的,所以我们需要第三方模块  
```commandline
pip install django-db-connection-pool
```
这样pip好需要的包之后,如果要启用数据库连接池,还需要在settings.py中作修改
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'djangoorm',
        'HOST':'localhost',
        'PORT':3306,
        'USER':'root',
        'PASSWORD':'HHCzio20',
        'POOL_OPTIONS':{
            'POOL_SIZE':10, #最小数量
            'MAX_OVERFLOW':10, #在最小的基础上还可以增加多少个
            'RECYCLE':24*60*60, #连接可以被重复用多久,超过会重新创建,-1表示永久
            'TIMEOUT':30 #池中没有现成最多等待的时间
        }
    }
}
```