非常好的问题！你想深入 Django 源码，了解 `DATABASES` 配置项中除了 `ENGINE`、`NAME`、`HOST` 等常见字段外，还能指定哪些其他参数 —— 这是进阶 Django 开发者的典型行为 👏。

---

## ✅ 一、Django 数据库配置的源码位置

Django 的数据库后端（Database Backends）代码位于：

```
django/db/backends/
```

每个数据库类型（如 MySQL、PostgreSQL、SQLite）都有自己的子目录。

你使用的是 **MySQL**，所以核心源码在：

```
django/db/backends/mysql/base.py
```

而所有数据库后端共用的基类在：

```
django/db/backends/base/base.py
```

此外，**配置解析和连接创建逻辑**主要在：

- `django/db/utils.py`：负责根据 `DATABASES` 配置选择 backend
- `django/db/backends/base/creation.py` 和 `introspection.py` 等辅助模块

---

## ✅ 二、如何查看“还能配置哪些参数”？

### 方法 1：直接看 MySQL 后端的 `get_connection_params()` 方法

这是最关键的方法！它决定了从 `settings.DATABASES` 中读取哪些键，并传递给底层数据库驱动（如 `pymysql` 或 `mysqlclient`）。

#### 🔗 源码路径（以 Django 4.x/5.x 为例）：
```python
# django/db/backends/mysql/base.py
def get_connection_params(self):
    settings_dict = self.settings_dict
    if settings_dict['NAME'] == '':
        raise ImproperlyConfigured(
            "settings.DATABASES is improperly configured. "
            "Please supply the NAME value."
        )
    kwargs = {
        'charset': 'utf8mb4',
        'sql_mode': 'STRICT_TRANS_TABLES',
    }
    if settings_dict['USER']:
        kwargs['user'] = settings_dict['USER']
    if settings_dict['NAME']:
        kwargs['database'] = settings_dict['NAME']
    if settings_dict['PASSWORD']:
        kwargs['password'] = settings_dict['PASSWORD']
    if settings_dict['HOST']:
        kwargs['host'] = settings_dict['HOST']
    if settings_dict['PORT']:
        kwargs['port'] = int(settings_dict['PORT'])
    
    # ⬇️ 关键：支持 OPTIONS！
    options = settings_dict.get('OPTIONS', {})
    kwargs.update(options)

    return kwargs
```

> 📌 **结论**：  
> 除了标准字段（`USER`, `PASSWORD`, `HOST`, `PORT`, `NAME`），你还可以通过 `OPTIONS` 字典传入 **任何底层驱动（如 PyMySQL / mysqlclient）支持的参数**！

---

## ✅ 三、常用额外配置参数（通过 `OPTIONS`）

### 示例：完整 DATABASES 配置

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'djangoorm',
        'HOST': 'localhost',
        'PORT': 3306,
        'USER': 'root',
        'PASSWORD': 'HHCzio20',
        'OPTIONS': {
            'init_command': "SET sql_mode='STRICT_TRANS_TABLES'",
            'charset': 'utf8mb4',
            'autocommit': True,
            'connect_timeout': 10,
            'read_timeout': 30,
            'write_timeout': 30,
            # 如果你用的是 PyMySQL，还可以：
            # 'ssl': {'ca': '/path/to/ca.pem'},
        },
    }
}
```

### 常见 `OPTIONS` 参数说明（取决于你用的 MySQL 驱动）：

| 参数 | 说明 | 适用驱动 |
|------|------|--------|
| `charset` | 字符集（建议 `utf8mb4`） | 所有 |
| `init_command` | 连接后执行的 SQL（如设置 sql_mode） | 所有 |
| `connect_timeout` | 连接超时（秒） | PyMySQL, mysqlclient |
| `read_timeout` / `write_timeout` | 读写超时 | PyMySQL |
| `ssl` | SSL 连接配置 | 支持 SSL 的驱动 |
| `autocommit` | 是否自动提交事务 | 谨慎使用 |
| `sql_mode` | SQL 模式（但通常用 `init_command` 设置） | - |

> 💡 注意：`django.db.backends.mysql` 默认使用 `mysqlclient`（C 扩展，更快），如果你安装的是 `PyMySQL`，需要在项目入口（如 `manage.py` 或 `__init__.py`）加：
> ```python
> import pymysql
> pymysql.install_as_MySQLdb()
> ```

---

## ✅ 四、其他全局 DATABASES 支持的顶级键（非 OPTIONS）

除了 `OPTIONS`，Django 还支持以下 **顶级配置项**（与数据库类型无关）：

```python
DATABASES = {
    'default': {
        'ENGINE': '...',
        'NAME': '...',
        'USER': '...',
        'PASSWORD': '...',
        'HOST': '...',
        'PORT': '...',

        # 👇 这些是 Django 特有的
        'CONN_MAX_AGE': 0,          # 连接最大存活时间（秒），0=请求结束即关闭
        'AUTOCOMMIT': True,         # 是否自动提交（默认 True）
        'TIME_ZONE': None,          # 数据库时区（一般不用设）
        'OPTIONS': { ... },         # 透传给驱动的参数
        'ATOMIC_REQUESTS': False,   # 是否每个 view 自动包裹 transaction
        'TEST': {                   # 测试数据库配置
            'NAME': 'test_djangoorm',
        },
    }
}
```

这些都在文档中有说明：[Django DATABASES setting](https://docs.djangoproject.com/en/stable/ref/settings/#databases)

---

## ✅ 五、如何快速验证某个参数是否有效？

1. 查你看使用的 **MySQL 驱动文档**：
   - [`mysqlclient` 文档](https://mysqlclient.readthedocs.io/)
   - [`PyMySQL` 文档](https://pymysql.readthedocs.io/)

2. 在 `OPTIONS` 中添加参数，启动 Django：
   ```bash
   python manage.py shell
   ```
   然后尝试查询，看是否报错。

3. 或者直接看 Django 源码中 `get_connection_params()` 如何处理 `OPTIONS` —— 它只是 **原样传给驱动**，所以只要驱动支持，Django 就支持。

---

## ✅ 六、推荐实践

```python
# 推荐的 MySQL 配置（生产环境）
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'myapp_prod',
        'USER': 'myapp_user',
        'PASSWORD': 'strong_password',
        'HOST': '127.0.0.1',  # 避免走 socket，明确用 TCP
        'PORT': '3306',
        'OPTIONS': {
            'charset': 'utf8mb4',
            'init_command': "SET sql_mode='STRICT_TRANS_TABLES'",
            'connect_timeout': 10,
        },
        'CONN_MAX_AGE': 60,  # 启用连接持久化（非池，但减少开销）
    }
}
```

---

## 📚 总结

| 问题 | 答案 |
|------|------|
| **源码在哪？** | `django/db/backends/mysql/base.py` 中的 `get_connection_params()` |
| **还能配什么？** | 通过 `OPTIONS` 传入底层驱动支持的任何参数 |
| **Django 特有参数？** | `CONN_MAX_AGE`, `AUTOCOMMIT`, `ATOMIC_REQUESTS`, `TEST` 等 |
| **如何确认参数有效？** | 查驱动文档 + 看 Django 源码是否透传 `OPTIONS` |

你现在不仅知道怎么配，还知道**为什么能这么配**，这就是真正的“知其然，更知其所以然”！继续深入源码，你会成为 Django 高手！💪🔥