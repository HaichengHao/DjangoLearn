## namespace  
- 说在前面,踩坑点就是app_name,一旦设置了namespace就要在各个app的urls里头设置app_name
- 辅助name的  
看以下的情形 

在主路由
- ```python
    from django.contrib import admin
    from django.urls import path,include
    
    urlpatterns = [
        path('web/',include('apps.web.urls',namespace='web')),
        path('backend/',include('apps.backend.urls',namespace='backend'))
    ]

    ```
然后分别是俩app的views,urls的设置
1.  先说views.py
```python
#web的
from django.shortcuts import render,HttpResponse,redirect
from django.urls import reverse


# Create your views here.

def home(request):
    return HttpResponse("这是主页")

def login(request):
    if request.method == 'POST':
        username = request.POST.get('username')
        password = request.POST.get('password')
        print(username,password)
        return redirect(reverse('web:home'))
    return render(request,'web/login.html')    



#backend的
from django.shortcuts import render,HttpResponse,redirect
from django.urls import reverse
# Create your views here.
def home(request):
    return HttpResponse("这是主页")

def login(request):
    if request.method == 'POST':
        username = request.POST.get('username')
        password = request.POST.get('password')
        print(username,password)
        return redirect(reverse('backend:home'))
    return render(request,'backend/login.h

 ```
2. 然后说urls,注意,写urls的时候一定要指定app_name,不然反向生成会有问题
```python

from django.urls import path
from . import views

app_name = 'web'
urlpatterns = [
    path('home/',views.home,name='home' ),
    path('login/',views.login,name='login')
]




from django.urls import path
from . import views
app_name = 'backend'
urlpatterns = [
    path('login/',views.login,name='login'),
    path('home/',views.home,name='home')
]
```

3. 除了这个还需要改settings.py将模版路径指定好
```python
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'], #tips:这样设置可以构造mtv模型,方便管理模版文件
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```


## 觉得上面繁琐的也可以手动分发的时候指定俩None参数
```python
urlpatterns = [
    path('home/',([
        path('login/',web.views.login,'login'),
        path('home/',web.views.home,'home'),
    ],'web','web') ), #前面一个是appname,后面一个是namespace,一般开发的情况下会让namespace和appname同名

]
```

### 补充之多层嵌套  
```python 
urlpatterns = [
    path('home/',([
        path('login/',web.views.login,'login'),
        path('home/',web.views.home,'home'),
        path('xxx/',([
            path('a/',xxx.views.a,'a'),  #上面这个通过home/xxx/a 来进行访问  ,如果要反向调用的话就需要 web:yy:a   就是namespace1:namespce2:appname
            path('b/',xxx.views.b,'b')
                     ],'yy','yy'))   
    ],'web','web') ), #前面一个是appname,后面一个是namespace,一般开发的情况下会让namespace和appname同名

]
```